{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import 'modern-normalize';\n\nconst linkDarkStyles = document.querySelectorAll(\n  'link[rel=\"stylesheet\"][media*=\"(prefers-color-scheme: dark)\"][media*=\"dark\"]'\n);\nconst linkLightStyles = document.querySelectorAll(\n  'link[rel=\"stylesheet\"][media*=\"(prefers-color-scheme: light)\"][media*=\"light\"]'\n);\n\nconst isDarkTheme = matchMedia('(prefers-color-scheme: dark)').matches;\nconst switcherList = document.querySelectorAll('.header-switcher-radio');\n\nconsole.log(getSystemTheme());\n\nswitcherList.forEach(item => {\n  item.addEventListener('change', event => {\n    setTheme(event.target.value);\n  });\n});\n\n// Run to check local storage\n// setupScheme();\n\n// Function: Check user OS theme settings and save it to the browser local storage\nfunction setupScheme() {\n  const browserTheme = getBrowserTheme();\n  const systemTheme = getSystemTheme();\n\n  if (browserTheme === null) {\n    return;\n  }\n\n  if (localStorageSavedTheme !== systemTheme) {\n    localStorage.setItem('colorScheme', systemTheme);\n    setTheme(systemTheme);\n  }\n}\n\nfunction setTheme(themeName) {\n  let lightMedia;\n  let darkMedia;\n\n  if (themeName === 'auto') {\n    lightMedia = '(prefers-color-scheme: light)';\n    darkMedia = '(prefers-color-scheme: dark)';\n    clearLocalStorage(); // write this function\n  } else {\n    if (themeName === 'light') {\n      lightMedia = 'all';\n      darkMedia = 'not all';\n    } else {\n      lightMedia = 'not all';\n      darkMedia = 'all';\n    }\n  }\n\n  linkDarkStyles.forEach(item => {\n    localStorage.setItem('colorScheme', themeName);\n    setLocalStorage(); // write this function\n    item.media = darkMedia;\n  });\n  linkLightStyles.forEach(item => {\n    localStorage.setItem('colorScheme', themeName);\n    item.media = lightMedia;\n  });\n}\nfunction getSystemTheme() {\n  return isDarkTheme ? 'dark' : 'light';\n}\n\n// Todo: Move saving to localstore to separet function\n// Todo: Separet function for local storage get theme\nfunction getBrowserTheme() {\n  return localStorage.getItem('colorScheme');\n}\n// Todo: Separet function for local storage save theme\n// Todo: Separet function for local storage clear theme\n"],"names":["linkDarkStyles","linkLightStyles","isDarkTheme","switcherList","getSystemTheme","item","event","setTheme","themeName","lightMedia","darkMedia"],"mappings":"0uBAEA,MAAMA,EAAiB,SAAS,iBAC9B,8EACF,EACMC,EAAkB,SAAS,iBAC/B,gFACF,EAEMC,EAAc,WAAW,8BAA8B,EAAE,QACzDC,EAAe,SAAS,iBAAiB,wBAAwB,EAEvE,QAAQ,IAAIC,EAAc,CAAE,EAE5BD,EAAa,QAAQE,GAAQ,CAC3BA,EAAK,iBAAiB,SAAUC,GAAS,CACvCC,EAASD,EAAM,OAAO,KAAK,CAC/B,CAAG,CACH,CAAC,EAoBD,SAASC,EAASC,EAAW,CAC3B,IAAIC,EACAC,EAEAF,IAAc,QAChBC,EAAa,gCACbC,EAAY,+BACZ,qBAEIF,IAAc,SAChBC,EAAa,MACbC,EAAY,YAEZD,EAAa,UACbC,EAAY,OAIhBV,EAAe,QAAQK,GAAQ,CAC7B,aAAa,QAAQ,cAAeG,CAAS,EAC7C,kBACAH,EAAK,MAAQK,CACjB,CAAG,EACDT,EAAgB,QAAQI,GAAQ,CAC9B,aAAa,QAAQ,cAAeG,CAAS,EAC7CH,EAAK,MAAQI,CACjB,CAAG,CACH,CACA,SAASL,GAAiB,CACxB,OAAOF,EAAc,OAAS,OAChC"}